# Config/Scenarios 目录说明

## 📁 目录结构

`Config/Scenarios` 目录包含了 B-Human 框架的各种场景配置文件。每个场景代表不同的使用情况或测试环境。

## 🎯 场景类型

### 1. Default（默认场景）⭐
**路径：** `Config/Scenarios/Default/`
**文件数：** 49 个配置文件
**用途：** 标准比赛场景，包含完整的功能模块

**主要配置文件：**
- `threads.cfg` - 线程配置（模块分配）
- `robotStateReporter.cfg` - 机器人状态上报配置 ⭐
- `behaviorParameters.cfg` - 行为参数
- `skillBehaviorControl.cfg` - 技能行为控制
- `strategyBehaviorControl.cfg` - 策略行为控制
- `selfLocator.cfg` - 自定位配置
- `teamMessageHandler.cfg` - 团队消息处理
- `logger.cfg` - 日志配置
- `walkingEngine.cfg` - 行走引擎（在子目录中）

**子目录：**
- `K1/` - K1 机器人特定配置
- `T1/` - T1 机器人特定配置

### 2. 比赛相关场景

#### 5vs5（5对5比赛）
**路径：** `Config/Scenarios/5vs5/`
**用途：** 5 对 5 比赛配置
**特点：** 调整了策略和位置设置

#### CompetitionWalk（比赛行走）
**路径：** `Config/Scenarios/CompetitionWalk/`
**用途：** 比赛专用行走参数
**特点：** 优化的行走引擎配置

### 3. 挑战赛场景

#### BallControlLeaderboard（控球挑战）
**路径：** `Config/Scenarios/BallControlLeaderboard/`
**用途：** 控球能力测试
**特点：** 专注于球控制和路径规划

#### BestKickLeaderboard（最佳踢球）
**路径：** `Config/Scenarios/BestKickLeaderboard/`
**用途：** 踢球精度测试
**特点：** 优化踢球参数

#### FastestWalkLeaderboard（最快行走）
**路径：** `Config/Scenarios/FastestWalkLeaderboard/`
**用途：** 行走速度测试
**特点：** 最大化行走速度

#### MostPassesLeaderboard（最多传球）
**路径：** `Config/Scenarios/MostPassesLeaderboard/`
**用途：** 传球能力测试
**特点：** 团队协作和传球优化

#### RollingBallChallenge（滚动球挑战）
**路径：** `Config/Scenarios/RollingBallChallenge/`
**用途：** 拦截滚动球测试
**特点：** 动态球拦截算法

### 4. 开发和测试场景

#### 2D（2D 仿真）
**路径：** `Config/Scenarios/2D/`
**用途：** 2D 仿真环境
**特点：** 简化的 2D 模拟

#### AnyPlaceDemo（任意位置演示）
**路径：** `Config/Scenarios/AnyPlaceDemo/`
**用途：** 演示模式
**特点：** 可在任意位置启动

#### CameraCalibration（相机标定）
**路径：** `Config/Scenarios/CameraCalibration/`
**用途：** 相机标定工具
**特点：** 用于标定机器人相机

#### PhotoMode（拍照模式）
**路径：** `Config/Scenarios/PhotoMode/`
**用途：** 拍照和图像采集
**特点：** 静态姿态，便于拍照

#### ReplayWalk（重放行走）
**路径：** `Config/Scenarios/ReplayWalk/`
**用途：** 行走数据重放
**特点：** 用于分析和调试行走

### 5. 增强功能场景

#### BoosterBHumanWalk（增强行走）
**路径：** `Config/Scenarios/BoosterBHumanWalk/`
**用途：** 使用 Booster 增强行走
**特点：** 集成外部增强模块

#### BoosterJoystick（手柄控制）
**路径：** `Config/Scenarios/BoosterJoystick/`
**用途：** 手柄遥控机器人
**特点：** 支持游戏手柄输入
**子目录：**
- `K1/` - K1 机器人配置
- `T1/` - T1 机器人配置

#### DigitalTwin（数字孪生）
**路径：** `Config/Scenarios/DigitalTwin/`
**用途：** 数字孪生仿真
**特点：** 高保真仿真环境
**子目录：**
- `K1/` - K1 机器人配置
- `T1/` - T1 机器人配置

## 📝 配置文件类型

### 核心配置文件

#### threads.cfg
**作用：** 定义模块在哪个线程中运行
**示例：**
```
Cognition = {
  RobotStateReporter;
  BehaviorControl;
  ...
}

Motion = {
  WalkingEngine;
  ...
}
```

#### logger.cfg
**作用：** 配置日志记录
**内容：** 指定要记录的数据类型

#### behaviorParameters.cfg
**作用：** 行为参数配置
**内容：** 各种行为的参数设置

### 模块配置文件

每个模块通常有自己的配置文件，命名规则：
- `模块名.cfg` 或 `模块名Provider.cfg`

**示例：**
- `selfLocator.cfg` - 自定位模块配置
- `walkingEngine.cfg` - 行走引擎配置
- `teamMessageHandler.cfg` - 团队消息处理配置
- `robotStateReporter.cfg` - 机器人状态上报配置 ⭐

### 特定功能配置

- `option*.cfg` - 行为选项配置
- `lib*.cfg` - 库函数配置
- `teamMessage.def` - 团队消息定义

## 🔧 如何使用场景

### 方法 1：在 SimRobot 中选择
1. 启动 SimRobot
2. 在机器人配置中选择场景
3. 重启机器人实例

### 方法 2：修改场景文件
直接编辑 `Config/Scenes/*.ros3` 文件中的场景路径

### 方法 3：命令行指定
```bash
./Build/Linux/SimRobot/Develop/SimRobot -s Scenarios/5vs5
```

## 🎯 常用场景选择指南

### 标准比赛
使用 **Default** 场景

### 5 对 5 比赛
使用 **5vs5** 场景

### 测试行走速度
使用 **FastestWalkLeaderboard** 场景

### 测试控球
使用 **BallControlLeaderboard** 场景

### 相机标定
使用 **CameraCalibration** 场景

### 手柄控制
使用 **BoosterJoystick** 场景

### 演示模式
使用 **AnyPlaceDemo** 场景

## 📊 Default 场景详细说明

### 主要模块配置

**感知模块：**
- `ballAndPenaltyMarkPerceptor.cfg` - 球和罚球点感知
- `linePerceptor.cfg` - 线条感知
- `refereeGestureClassifier.cfg` - 裁判手势识别
- `whistleDetector.cfg` - 哨声检测

**定位模块：**
- `selfLocator.cfg` - 自定位
- `odometerProvider.cfg` - 里程计

**行为模块：**
- `skillBehaviorControl.cfg` - 技能行为
- `strategyBehaviorControl.cfg` - 策略行为
- `behaviorParameters.cfg` - 行为参数

**运动模块：**
- `walkingEngine.cfg` - 行走引擎（在 K1/T1 子目录）
- `walkKickEngine.cfg` - 行走踢球引擎

**通信模块：**
- `teamMessageHandler.cfg` - 团队消息
- `robotStateReporter.cfg` - 状态上报 ⭐

**游戏状态：**
- `gameStateProvider.cfg` - 游戏状态
- `sideInformationProvider.cfg` - 边线信息

## 🔍 查找特定配置

### 查找包含特定模块的场景
```bash
grep -r "RobotStateReporter" Config/Scenarios/*/threads.cfg
```

### 查看场景的所有配置文件
```bash
ls -la Config/Scenarios/Default/*.cfg
```

### 比较两个场景的差异
```bash
diff -r Config/Scenarios/Default/ Config/Scenarios/5vs5/
```

## 💡 自定义场景

### 创建新场景
1. 复制 Default 场景：
   ```bash
   cp -r Config/Scenarios/Default Config/Scenarios/MyScenario
   ```

2. 修改配置文件

3. 在 SimRobot 中使用新场景

### 最佳实践
- 从 Default 场景开始
- 只修改需要改变的配置
- 保持配置文件的一致性
- 添加注释说明修改原因

## 📚 相关文档

- **模块说明**：查看 `Src/Modules/` 目录
- **配置语法**：查看 B-Human 文档
- **线程配置**：查看 `threads.cfg` 文件

## ⚠️ 注意事项

1. **不要直接修改 Default 场景**
   - 创建副本进行修改
   - 保持 Default 作为参考

2. **配置文件语法**
   - 使用分号结尾
   - 注意大小写
   - 字符串需要引号

3. **模块依赖**
   - 确保所需模块都已配置
   - 检查 threads.cfg 中的模块分配

4. **机器人特定配置**
   - K1 和 T1 有不同的配置
   - 注意子目录中的覆盖配置

## 🎉 总结

- **Default** 是最常用的场景，包含完整功能
- 每个场景针对特定用途优化
- 可以自定义场景满足特殊需求
- `robotStateReporter.cfg` 是监控系统的关键配置

---

**当前使用场景：** Default
**监控系统配置：** `Config/Scenarios/Default/robotStateReporter.cfg`
