# Config/Scenarios 配置调优团队分工方案（8人）

## 📊 项目目标

**任务：** 优化和调节 B-Human 框架的 Scenarios 配置文件
**团队规模：** 8 人
**工作目录：** `Config/Scenarios/Default/`（49个配置文件）
**目标：** 提升机器人比赛表现，优化各模块参数

## 🎯 分工原则

- 按功能模块划分
- 每人负责 5-7 个相关配置文件
- 交叉测试和验证
- 定期同步和集成

---

## 👥 详细分工

### 🧠 成员 1：行为策略组长

**负责模块：** 行为控制和策略

**配置文件：**
1. `behaviorParameters.cfg` - 行为参数（核心）
2. `skillBehaviorControl.cfg` - 技能行为控制
3. `strategyBehaviorControl.cfg` - 策略行为控制
4. `setupPosesProvider.cfg` - 位置设置
5. `optionPlayBall.cfg` - 踢球选项
6. `optionKickAtGoal.cfg` - 射门选项

**主要任务：**
- 调整机器人角色行为参数
- 优化进攻和防守策略
- 调节位置分配算法
- 测试不同战术配置

**关键参数：**
- 角色切换阈值
- 位置权重
- 决策优先级
- 行为超时时间

**测试场景：**
- 5vs5 比赛
- 不同比分情况
- 人数优势/劣势

---

### ⚽ 成员 2：球处理专家

**负责模块：** 球感知和处理

**配置文件：**
1. `ballPerceptFilter.cfg` - 球感知过滤
2. `fieldBallProvider.cfg` - 场地球提供者
3. `teamBallModelProvider.cfg` - 团队球模型
4. `ballContactCheckerProvider.cfg` - 球接触检测
5. `ballAndPenaltyMarkPerceptor.cfg` - 球和罚球点感知
6. `optionPassToTeammate.cfg` - 传球选项

**主要任务：**
- 优化球检测准确率
- 调整球位置预测
- 改进团队球信息融合
- 优化传球决策

**关键参数：**
- 球检测置信度阈值
- 球速度估计参数
- 团队球融合权重
- 传球距离和角度

**测试场景：**
- 快速移动的球
- 多机器人同时看球
- 传球配合

---

### 🚶 成员 3：运动控制专家

**负责模块：** 行走和运动

**配置文件：**
1. `K1/walkingEngine.cfg` 或 `T1/walkingEngine.cfg` - 行走引擎
2. `walkKickEngine.cfg` - 行走踢球引擎
3. `kickInfo.cfg` - 踢球信息
4. `odometerProvider.cfg` - 里程计
5. `jointAnglePredictor.cfg` - 关节角度预测

**主要任务：**
- 优化行走速度和稳定性
- 调整踢球动作参数
- 改进里程计精度
- 测试不同地面条件

**关键参数：**
- 步态参数（步长、频率）
- 平衡控制参数
- 踢球力度和角度
- 关节限制

**测试场景：**
- 最快行走测试
- 精确踢球测试
- 不同地面材质

---

### 📍 成员 4：定位与导航专家

**负责模块：** 自定位和路径规划

**配置文件：**
1. `selfLocator.cfg` - 自定位（核心）
2. `pathPlannerProvider.cfg` - 路径规划
3. `perceptRegistrationProvider.cfg` - 感知注册
4. `sideInformationProvider.cfg` - 边线信息
5. `legacyMeasurementCovarianceProvider.cfg` - 测量协方差

**主要任务：**
- 提高定位精度
- 优化路径规划算法
- 改进障碍物避让
- 调整定位置信度

**关键参数：**
- 定位更新频率
- 观测权重
- 路径规划代价函数
- 障碍物安全距离

**测试场景：**
- 绑架测试（突然移动）
- 复杂路径规划
- 多障碍物环境

---

### 👁️ 成员 5：视觉感知专家

**负责模块：** 图像处理和感知

**配置文件：**
1. `cameraProvider.cfg` - 相机提供者
2. `ecImageProvider.cfg` - EC 图像提供者
3. `linePerceptor.cfg` - 线条感知
4. `refereeGestureClassifier.cfg` - 裁判手势识别
5. `refereeSignalDetector.cfg` - 裁判信号检测
6. `oracledPerceptsProvider.cfg` - Oracle 感知

**主要任务：**
- 优化图像处理参数
- 提高线条检测准确率
- 改进裁判识别
- 调整相机参数

**关键参数：**
- 图像分辨率和帧率
- 颜色阈值
- 边缘检测参数
- 识别置信度

**测试场景：**
- 不同光照条件
- 裁判手势识别
- 场地线检测

---

### 🎮 成员 6：游戏状态与通信专家

**负责模块：** 游戏状态和团队通信

**配置文件：**
1. `gameStateProvider.cfg` - 游戏状态提供者
2. `teamMessageHandler.cfg` - 团队消息处理
3. `teamMessage.def` - 团队消息定义
4. `indirectKickProvider.cfg` - 间接任意球
5. `remoteControlHandler.cfg` - 远程控制
6. `joystickControl.cfg` - 手柄控制

**主要任务：**
- 优化游戏状态响应
- 改进团队通信效率
- 调整消息优先级
- 测试通信可靠性

**关键参数：**
- 消息发送频率
- 消息优先级
- 状态切换延迟
- 通信超时时间

**测试场景：**
- 比赛状态切换
- 网络延迟情况
- 消息丢包测试

---

### 🔧 成员 7：特殊功能与挑战专家

**负责模块：** 特殊场景和挑战

**配置文件：**
1. `fieldInterceptBallProvider.cfg` - 场地拦截球
2. `interceptBallProvider.cfg` - 拦截球提供者
3. `optionHandleStrikerLostBall.cfg` - 前锋丢球处理
4. `optionHandleReturnFromTouchline.cfg` - 边线返回
5. `optionZweikampf.cfg` - 对抗选项
6. `simulatedWorldModelProvider.cfg` - 模拟世界模型

**主要任务：**
- 优化特殊情况处理
- 改进球拦截算法
- 调整对抗策略
- 测试边界情况

**关键参数：**
- 拦截预测时间
- 对抗距离阈值
- 特殊情况超时
- 恢复策略参数

**测试场景：**
- 滚动球拦截
- 边线球处理
- 1v1 对抗

---

### 📊 成员 8：系统集成与测试负责人

**负责模块：** 日志、调试和集成测试

**配置文件：**
1. `logger.cfg` - 日志配置
2. `threads.cfg` - 线程配置（核心）
3. `robotStateReporter.cfg` - 机器人状态上报
4. `whistleDetector.cfg` - 哨声检测
5. `libCheckProvider.cfg` - 检查库
6. `libDemoProvider.cfg` - 演示库
7. `libLookActiveProvider.cfg` - 主动观察库
8. `libWalkProvider.cfg` - 行走库

**主要任务：**
- 配置日志记录
- 优化线程分配
- 集成测试所有配置
- 性能监控和分析

**关键参数：**
- 日志级别和频率
- 线程优先级
- 模块执行顺序
- 性能指标

**测试场景：**
- 完整比赛测试
- 性能压力测试
- 长时间运行测试

---

## 📅 工作流程

### 第一周：学习和分析

**周一：**
- 团队会议：分工说明
- 学习配置文件格式
- 了解负责模块功能

**周二-周三：**
- 阅读现有配置
- 分析参数含义
- 记录问题和疑问

**周四：**
- 组内讨论会
- 分享学习成果
- 确定优化方向

**周五：**
- 制定优化计划
- 编写测试用例
- 周报总结

### 第二周：初步优化

**周一：**
- 开始修改配置
- 记录修改内容
- 版本控制

**周二-周四：**
- 独立测试
- 记录测试结果
- 迭代优化

**周五：**
- 集成测试
- 问题汇总
- 参数调整

### 第三周：深度优化

**周一-周三：**
- 精细调参
- 交叉测试
- 性能对比

**周四：**
- 完整系统测试
- 性能评估
- 问题修复

**周五：**
- 最终验证
- 文档整理
- 成果展示

### 第四周：比赛准备

**周一-周二：**
- 最终调优
- 应急预案
- 备份配置

**周三-周四：**
- 模拟比赛
- 压力测试
- 团队演练

**周五：**
- 配置冻结
- 准备比赛
- 总结经验

---

## 🔧 协作机制

### 配置管理

**版本控制：**
```bash
# 创建个人分支
git checkout -b config/member1-behavior

# 提交修改
git add Config/Scenarios/Default/behaviorParameters.cfg
git commit -m "优化行为参数：调整角色切换阈值"

# 推送到远程
git push origin config/member1-behavior
```

**配置备份：**
```bash
# 每次修改前备份
cp Config/Scenarios/Default/behaviorParameters.cfg \
   Config/Scenarios/Default/behaviorParameters.cfg.backup_20260128
```

### 测试规范

**测试记录模板：**
```markdown
## 测试日期：2026-01-28
## 测试人员：成员 1
## 配置文件：behaviorParameters.cfg
## 修改内容：
- 参数 A: 0.5 → 0.7
- 参数 B: 10 → 15

## 测试场景：5vs5 比赛
## 测试结果：
- 进球数：3 → 5 ✅
- 失球数：2 → 1 ✅
- 摔倒次数：5 → 3 ✅

## 结论：改进有效，建议保留
```

### 沟通渠道

**每日站会（15分钟）：**
- 昨天完成了什么
- 今天计划做什么
- 遇到什么问题

**技术讨论群：**
- 参数疑问
- 测试结果分享
- 问题求助

**周会（1小时）：**
- 进度汇报
- 问题讨论
- 下周计划

---

## 📊 配置文件优先级

### 高优先级（核心影响）

1. **behaviorParameters.cfg** - 行为参数
2. **threads.cfg** - 线程配置
3. **selfLocator.cfg** - 自定位
4. **walkingEngine.cfg** - 行走引擎
5. **teamMessageHandler.cfg** - 团队通信

### 中优先级（重要功能）

6. **skillBehaviorControl.cfg** - 技能行为
7. **strategyBehaviorControl.cfg** - 策略行为
8. **ballPerceptFilter.cfg** - 球感知
9. **pathPlannerProvider.cfg** - 路径规划
10. **gameStateProvider.cfg** - 游戏状态

### 低优先级（辅助功能）

11. **logger.cfg** - 日志
12. **joystickControl.cfg** - 手柄控制
13. **libDemoProvider.cfg** - 演示库
14. 其他辅助配置

---

## 🎯 优化目标

### 性能指标

**进攻能力：**
- 进球数 +30%
- 射门准确率 +20%
- 传球成功率 +25%

**防守能力：**
- 失球数 -30%
- 拦截成功率 +20%
- 防守覆盖率 +15%

**运动能力：**
- 行走速度 +10%
- 摔倒次数 -40%
- 定位精度 +20%

**团队协作：**
- 通信延迟 -30%
- 位置冲突 -50%
- 协作效率 +25%

### 测试基准

**基准测试场景：**
1. 5vs5 标准比赛（10分钟）
2. 控球挑战（2分钟）
3. 最快行走（30秒）
4. 精确射门（10次）
5. 传球配合（5次）

**对比方法：**
- 修改前 vs 修改后
- 不同参数组合对比
- 与其他队伍对比

---

## 📝 文档要求

### 每人需要提交

**1. 配置修改日志**
```markdown
# behaviorParameters.cfg 修改日志

## 2026-01-28
- 修改参数：roleChangeThreshold
- 原值：0.5
- 新值：0.7
- 原因：减少角色频繁切换
- 测试结果：✅ 改进明显

## 2026-01-29
- 修改参数：positionWeight
- 原值：1.0
- 新值：1.2
- 原因：增加位置权重
- 测试结果：❌ 效果不佳，已回滚
```

**2. 测试报告**
- 测试场景描述
- 测试数据记录
- 结果分析
- 改进建议

**3. 参数说明文档**
- 参数名称和含义
- 取值范围
- 影响分析
- 推荐值

---

## 🎓 培训计划

### Day 1：配置文件基础

**上午：**
- B-Human 配置文件格式
- 配置文件加载机制
- 参数类型和语法

**下午：**
- 实践：修改简单参数
- 测试：验证修改效果
- 讨论：常见问题

### Day 2：模块深入学习

**上午：**
- 各自负责模块的原理
- 参数之间的关联
- 调优方法论

**下午：**
- 实践：复杂参数调整
- 测试：性能对比
- 分享：经验交流

### Day 3：集成测试

**上午：**
- 集成测试方法
- 性能评估工具
- 问题诊断技巧

**下午：**
- 实践：完整系统测试
- 分析：性能瓶颈
- 优化：参数微调

---

## 🏆 成功案例参考

### 案例 1：行走速度优化

**修改文件：** `walkingEngine.cfg`
**修改参数：**
- `maxSpeed.x`: 200 → 250
- `maxSpeed.y`: 150 → 180
- `stepHeight`: 20 → 18

**测试结果：**
- 行走速度提升 15%
- 稳定性保持
- 能耗增加 5%（可接受）

### 案例 2：定位精度提升

**修改文件：** `selfLocator.cfg`
**修改参数：**
- `observationWeight`: 0.5 → 0.7
- `updateFrequency`: 10 → 15
- `confidenceThreshold`: 0.6 → 0.7

**测试结果：**
- 定位误差减少 25%
- 绑架恢复时间缩短 30%
- CPU 占用增加 3%（可接受）

### 案例 3：传球成功率提升

**修改文件：** `optionPassToTeammate.cfg`
**修改参数：**
- `passDistance`: 2000 → 2500
- `passAngleTolerance`: 15° → 20°
- `receiverSpeedFactor`: 0.8 → 1.0

**测试结果：**
- 传球成功率提升 30%
- 传球距离增加 25%
- 配合流畅度明显改善

---

## 📈 进度跟踪

### 每周检查点

**Week 1：**
- [ ] 完成配置文件学习
- [ ] 理解负责模块功能
- [ ] 制定优化计划

**Week 2：**
- [ ] 完成初步参数调整
- [ ] 完成独立测试
- [ ] 记录测试数据

**Week 3：**
- [ ] 完成深度优化
- [ ] 完成交叉测试
- [ ] 整理优化文档

**Week 4：**
- [ ] 完成最终验证
- [ ] 准备比赛配置
- [ ] 提交成果报告

---

## 🚀 最佳实践

### 调参技巧

1. **小步快跑**：每次只改一个参数
2. **记录详细**：记录每次修改和结果
3. **对比测试**：修改前后对比
4. **版本管理**：使用 Git 管理配置
5. **备份重要**：修改前先备份
6. **团队协作**：及时分享经验
7. **数据驱动**：用数据说话
8. **持续迭代**：不断优化改进

### 避免的错误

❌ **不要：**
- 同时修改多个参数
- 不记录修改内容
- 不做对比测试
- 不备份原始配置
- 闭门造车
- 凭感觉调参
- 过度优化
- 忽视副作用

✅ **要：**
- 逐个参数调整
- 详细记录日志
- 充分测试验证
- 及时备份
- 团队协作
- 数据驱动
- 适度优化
- 全面评估

---

## 📞 联系方式

**组长：** 成员 8（系统集成负责人）

**各模块负责人：**
- 行为策略：成员 1
- 球处理：成员 2
- 运动控制：成员 3
- 定位导航：成员 4
- 视觉感知：成员 5
- 游戏通信：成员 6
- 特殊功能：成员 7
- 系统集成：成员 8

**技术支持：**
- B-Human 文档：https://github.com/bhuman/BHumanCodeRelease
- 配置文件说明：`Config/Scenarios/场景说明.md`

---

**制定日期：** 2026-01-28
**版本：** v1.0
**目标：** 通过配置优化提升比赛表现 30%
